<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop.xsd">

	<context:property-placeholder
		properties-ref="systemProperties"/>

		<!-- Properties Bean -->
		<bean id="systemProperties"
			class="org.springframework.beans.factory.config.PropertiesFactoryBean">
			<property name="properties">
				<props>
					<prop key="mybatisConfig">workspace/ips/measurement/measurement-persist-mysql/src/main/resources/mybatis-configuration.xml</prop>
				</props>
			</property>
		</bean>


		<!-- DAO Beans -->
		<bean id="zoneDAO"
			class="uni.miskolc.ips.ilona.measurement.persist.mysql.MySQLZoneDAO">
			<constructor-arg name="configFilePath"
				value="${mybatisConfig}" />
			<constructor-arg name="host" value="localhost" />
			<constructor-arg name="port" value="3306" />
			<constructor-arg name="database" value="ilona" />
			<constructor-arg name="user" value="ilona" />
			<constructor-arg name="password" value="ilona" />
		</bean>
 
		<bean id="positionDAO"
			class="uni.miskolc.ips.ilona.measurement.persist.mysql.MySQLPositionDAO">
			<constructor-arg name="configFilePath" value="${mybatisConfig}"/>
			<constructor-arg name="host" value="localhost"/>
			<constructor-arg name="port" value="3306"/>
			<constructor-arg name="database" value="ilona"/>
			<constructor-arg name="user" value="ilona"/>
			<constructor-arg name="password" value="ilona"/>
		</bean>
		
		<bean id="measurementDAO"
			class="uni.miskolc.ips.ilona.measurement.persist.mysql.MySQLMeasurementDAO">
			<constructor-arg name="configFilePath" value="${mybatisConfig}"/>
			<constructor-arg name="host" value="localhost"/>
			<constructor-arg name="port" value="3306"/>
			<constructor-arg name="database" value="ilona"/>
			<constructor-arg name="user" value="ilona"/>
			<constructor-arg name="password" value="ilona"/>
		</bean>
 
		<!-- Measurement Services -->
		
		<bean id="zoneManagerService"
			class="uni.miskolc.ips.ilona.measurement.service.impl.ZoneManagerServiceImpl">
			<constructor-arg ref="zoneDAO" />
		</bean>
		
		<bean id="measurementManagerService"
			class="uni.miskolc.ips.ilona.measurement.service.impl.MeasurementManagerServiceImpl">
			<constructor-arg ref="positionDAO" />
			<constructor-arg ref="measurementDAO" />
		</bean>
		
		<!-- 
		<bean id="measurementManagerService"
			class="uni.miskolc.ips.ilona.measurement.service.impl.MeasurementManagerServiceImpl">
			<constructor-arg ref="positionDAO" />
			<constructor-arg ref="measurementDAO" />
		</bean>
		 -->
		<!-- Positioning Sevice -->
		<!-- <bean id="positioningService" class="uni.miskolc.ips.symbolic.service.impl.PositioningServiceImpl"> 
			<constructor-arg ref="zoneDAO" /> <constructor-arg ref="measurementDAO" /> 
			</bean> -->
		<!-- <bean id="measurementDistanceCalculator" class="uni.miskolc.ips.ilona.service.impl.knn.VectorUnionMeasurementDistanceCalculator"> 
			<constructor-arg value="0.0" /> </bean> -->
		<!-- <bean id="positioningService" class="uni.miskolc.ips.ilona.service.impl.PositioningServiceImpl"> 
			<constructor-arg ref="positionDAO" /> <constructor-arg ref="measurementDAO" 
			/> </bean> -->

		<!-- <bean id="positionManagerService" class="uni.miskolc.ips.ilona.measurement.service.impl.PositionManagerServiceImpl"> 
			<constructor-arg ref="positionDAO" /> </bean> -->
		<!-- <bean id="wifiDistanceCalculator" class="uni.miskolc.ips.ilona.core.model.measurement.wifi.VectorIntersectionWiFiRSSIDistance"> 
			</bean> <bean id="measurementDistanceCalculator" class="uni.miskolc.ips.ilona.core.model.measurement.MeasurementDistanceCalculatorImpl"> 
			<constructor-arg ref="wifiDistanceCalculator" /> <constructor-arg name="wifiDistanceWeight" 
			value="1.0" /> <constructor-arg name="magnetometerDistanceWeight" value="1.0" 
			/> <constructor-arg name="gpsDistanceWeight" value="1.0" /> <constructor-arg 
			name="bluetoothDistanceWeight" value="1.0" /> <constructor-arg name="rfidDistanceWeight" 
			value="1.0" /> </bean> <bean id="positioningService" class="uni.miskolc.ips.ilona.service.impl.positioning.classification.bayes.NaiveBayesPositioningService"> 
			<constructor-arg ref="measurementManagerService" /> <constructor-arg ref="positionManagerService" 
			/> <constructor-arg ref="measurementDistanceCalculator" /> <constructor-arg 
			name="maxMeasurementDistance" value="10" /> </bean> -->
</beans>